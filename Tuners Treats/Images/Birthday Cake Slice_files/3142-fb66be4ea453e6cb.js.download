"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3142],{49803:function(e,t,n){n.d(t,{Gs:function(){return u},Ni:function(){return s},Ox:function(){return a},a3:function(){return c}});var i=n(64426),o=n(77103),r=n(15890);let a=async(e,t)=>{let n=(0,r.B5)(new URL("".concat(o.publicRuntimeConfig.apiUrl,"user/favorites")),e),a=await (0,i.BB)({url:n,options:{method:"GET",credentials:"same-origin",headers:{authorization:"Token ".concat(t),"Content-Type":"application/json"}}});return await a.json()},c=async(e,t,n)=>l(e,t,n,"POST"),s=async(e,t,n)=>l(e,t,n,"DELETE"),l=async(e,t,n,o)=>{let r=await (0,i.BB)({url:d("user/favorites",t),options:{method:o,body:"gif_id=".concat(e),headers:{cookie:n,Accept:"application/json",Authorization:"Token ".concat(t),"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"}}});return await r.json()},u=async(e,t)=>{let n=await (0,i.BB)({url:d("user/favorites/statuses",t),options:{method:"POST",headers:{Authorization:"Token ".concat(t),"Content-Type":"application/json"},body:JSON.stringify({gif_ids:[e]})}});return(await n.json()).data.length>0};function d(e,t){return(0,r.B5)(new URL("".concat(o.publicRuntimeConfig.apiUrl).concat(e)),{api_key:o.publicRuntimeConfig.apiKey,access_token:t})}},68774:function(e,t,n){var i=n(27573),o=n(7653),r=n(94657),a=n(62383),c=n(77103),s=n(67754);let l=new Date("2024-07-08T02:00:00Z").getTime(),u=new Date("2024-07-09T07:00:00Z").getTime();t.default=e=>{let t,{children:n,initialTerm:d,countryCode:f}=e,{deviceType:h}=(0,o.useContext)(r.Z),p=(0,s.usePathname)();if((0,s.useSearchParams)().get("takeover"))t=!0;else{let e=Date.now()>l&&Date.now()<u;t="US"===f&&e&&"/"===p&&"desktop"===h}return(0,i.jsx)(a.Z,{hsaTakeover:t,initialTerm:d,apiKey:"mobile"===h?c.publicRuntimeConfig.mobileApiKey:c.publicRuntimeConfig.apiKey,children:n})}},26657:function(e,t,n){n.r(t),n.d(t,{DESKTOP_AD_DIMENSIONS:function(){return h},DESKTOP_CONTAINER_HEIGHT:function(){return d},MOBILE_AD_DIMENSIONS:function(){return p},MOBILE_CONTAINER_HEIGHT:function(){return f},UNIT_NAME:function(){return g}});var i=n(27573),o=n(93887),r=n(7653),a=n(63400),c=n(30993),s=n(96692),l=n(94657),u=n(14882);let d=120,f=70,h=[728,90],p=[320,50],g="top_leaderboard",v=a.ZP.div.withConfig({componentId:"sc-6f6dd835-0"})(["position:sticky;top:0;z-index:",";display:flex;flex-wrap:wrap;justify-content:center;align-items:center;background-color:",";height:","px;"," &.device-desktop{display:none;","}"],s.yV+1,o.n7,f,(0,c.gv)((0,a.iv)(["height:","px;"],d)),(0,c.gv)((0,a.iv)(["display:flex;"]))),x=a.ZP.div.withConfig({componentId:"sc-6f6dd835-1"})(["background-color:",";width:","px;height:","px;border-radius:4px;overflow:hidden;",""],o.s$,p[0],p[1],(0,c.gv)((0,a.iv)(["width:","px;height:","px;"],h[0],h[1])));t.default=()=>{let{deviceType:e}=(0,r.useContext)(l.Z),{isAdUnitEnabled:t,pageName:n}=(0,r.useContext)(u.Z),o="htlad-".concat(e,"_").concat(g,"_").concat(n);return t(g)&&(0,i.jsx)(v,{className:"device-".concat(e),children:(0,i.jsx)(x,{children:(0,i.jsx)("div",{className:o})})})}},8021:function(e,t,n){n.d(t,{h:function(){return r}});var i=n(7653),o=n(45151);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,[r,a]=(0,i.useState)([0,1]);(0,i.useEffect)(()=>{if(e){let i=Math.floor(t/n)+1;r.includes(i)||(a([...r,i]),(0,o.Z)(e(i)))}},[e,t,r,n])}},92095:function(e,t,n){var i=n(27573),o=n(42054),r=n(20582),a=n(7653),c=n(3527),s=n(63400),l=n(96692),u=n(30993),d=n(94657),f=n(15890),h=n(6165),p=n(8021);let g=(0,r.default)(()=>Promise.all([n.e(6275),n.e(7031),n.e(3920),n.e(5876),n.e(2104),n.e(7161),n.e(474),n.e(7420),n.e(1841),n.e(3038)]).then(n.bind(n,13038)),{loadableGenerated:{webpack:()=>[13038]},ssr:!1}),v=s.ZP.p.withConfig({componentId:"sc-bff4bdef-0"})(["text-align:center;padding:10px;"]),x=(0,a.createContext)({gifs:[],setGifs:()=>{}});t.Z=e=>{let{initialGifs:t,fetchGifs:n,gaTrackingUrl:r,width:s,columns:m,noShowMessage:w=(0,i.jsx)(i.Fragment,{children:"No results found."}),columnOffsets:b,onGifClick:E,overlay:y}=e,[C,k]=(0,a.useState)(!0),[T,S]=(0,a.useState)(),[j,I]=(0,a.useState)(0);(0,p.h)(r,j);let{deviceType:N}=(0,a.useContext)(d.Z),{width:P}=(0,c.Z)(),Z=(0,h.Z)(),_="desktop"===N;Z&&(_=P>=u.gv.breakpointWidth);let L=(0,a.useMemo)(()=>Z?{rootMargin:"0px 0px 250px 0px"}:void 0,[Z]),A=(0,a.useMemo)(()=>({gifs:T,setGifs:S}),[T,S]);return C?_||L?(0,i.jsx)(x.Provider,{value:A,children:(0,i.jsx)(o.Grid,{columns:m||(_?4:2),width:s||(_?l.VC:P),fetchGifs:async e=>{let i=await n(e);return 0===i.data.length&&(null==t?void 0:t.length)===0&&k(!1),i},externalGifs:T,initialGifs:t,onGifClick:(e,t)=>{E?E(e,t):(0,f.dr)(e,t)},gutter:_?12:void 0,overlay:y||(_?g:void 0),hideAttribution:!0,loaderConfig:L,onGifsFetched:e=>{I(e.length),S(e)},columnOffsets:b})}):null:(0,i.jsx)(v,{children:w})}},62383:function(e,t,n){n.d(t,{x:function(){return R},Z:function(){return B}});var i=n(27573),o=n(26657),r=n(14882),a=n(72497),c=n(59752),s=n(93887),l=n(42054),u=n(20582),d=n(67754),f=n(7653),h=n(63400),p=n(14268),g=n(33034),v=n(96692),x=n(30993),m=n(15644),w=n(93782),b=n.n(w),E=n(77103);let y=h.ZP.a.withConfig({componentId:"sc-5f1d030-0"})(["position:absolute;display:block;right:","px;top:","px;cursor:pointer;"],68,10),C=h.ZP.div.withConfig({componentId:"sc-5f1d030-1"})(["position:absolute;top:0;left:0;width:100%;height:100%;"]);var k=()=>(0,i.jsxs)(y,{href:"https://abc.com/show/2294c465-f2ed-45e0-954f-d994c0efc1dc",target:"_blank",children:[(0,i.jsx)("img",{src:"".concat(E.xj,"/static/img/takeovers/bachelorette.png"),height:68,width:400,alt:""}),(0,i.jsx)(C,{})]});let T=(0,u.default)(()=>Promise.all([n.e(7031),n.e(5469),n.e(6575),n.e(3835),n.e(3293)]).then(n.bind(n,83293)),{loadableGenerated:{webpack:()=>[83293]}}),S=(0,u.default)(()=>n.e(1959).then(n.bind(n,51959)),{loadableGenerated:{webpack:()=>[51959]}}),j=(0,u.default)(()=>n.e(5759).then(n.bind(n,95759)),{loadableGenerated:{webpack:()=>[95759]}}),I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=N(e,P),n=e.trim();return t?n.slice(0,n.length-t.length):e},N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t.length)return!1;let n=RegExp("(".concat(t.join("|"),")$"),"gi"),i=e.trim().match(n);return!!i&&i[i.length-1]},P=["gif","gifs","sticker","stickers","video","videos","transparent"],Z=(0,h.ZP)(l.SearchBar).withConfig({componentId:"sc-fa2660a1-0"})(["input{font-size:22px;padding-left:14px;font-family:",";","}"," .giphy-search-bar-cancel{width:22px;height:22px;margin-right:10px;","}"],b().style.fontFamily,e=>e.$hasTakeover&&(0,h.iv)(["width:","px;flex:unset;"],e.$isStuck?360:540),e=>e.$hasTakeover&&(0,h.iv)(["justify-content:space-between;"]),e=>e.$hasTakeover&&(0,h.iv)(["position:absolute;left:","px;margin:0;"],540)),_=h.ZP.div.withConfig({componentId:"sc-fa2660a1-1"})(["display:none;"," ",""],(0,x.gv)((0,h.iv)(["top:0;display:block;position:absolute;height:","px;display:flex;align-items:center;z-index:",";"],68,v.yV)),e=>{let{$isStuck:t,$hasTopLeaderboardAd:n}=e;return t&&(0,x.gv)((0,h.iv)(["position:fixed;top:","px;transform:translate3d(0,78px,0);transition:transform 0.5s cubic-bezier(0.165,0.84,0.44,1) 0.3s;"],n?o.DESKTOP_CONTAINER_HEIGHT-70:-70))}),L=h.ZP.div.withConfig({componentId:"sc-fa2660a1-2"})(["padding:5px 0;",""],(0,x.gv)((0,h.iv)(["padding:","px 0 0;"],10))),A=h.ZP.div.withConfig({componentId:"sc-fa2660a1-3"})(["background-color:",";width:100%;z-index:",";position:sticky;top:-1px;"," ",""],s.eF,v.u0,e=>{let{$hasTopLeaderboardAd:t}=e;return t&&"top: ".concat(o.MOBILE_CONTAINER_HEIGHT-1,"px;")},e=>{let{$hasTopLeaderboardAd:t}=e;return t&&(0,x.gv)((0,h.iv)(["top:","px;"],o.DESKTOP_CONTAINER_HEIGHT-1))}),O=h.ZP.div.withConfig({componentId:"sc-fa2660a1-4"})(["width:100%;"," ",""],(0,x.gv)((0,h.iv)(["transition:width 0.3s cubic-bezier(0.165,0.84,0.44,1) 0s;margin-left:auto;"])),e=>{let{$isStuck:t}=e;return t&&(0,x.gv)((0,h.iv)(["width:calc(100% - ","px);padding-bottom:8px;"],p.Gc))}),R=(0,f.createContext)({ignoreTarget:"",setIgnoreTarget:()=>{}}),D=e=>{let{isStuck:t,hsaTakeover:n}=e,{autoFocus:o}=(0,f.useContext)(c.z),[r,a]=(0,f.useState)(0),{activeChannel:s}=(0,f.useContext)(l.SearchContext),u=(0,f.useCallback)(e=>{if(e){let t=I(e).trim().replaceAll(" ","-").replace("/","");if(s){let e="@".concat(s.slug.trim().toLowerCase());location.href="/search/?q=".concat(e,"+").concat(t)}else location.href="/search/".concat(t)}},[s]);return(0,f.useEffect)(()=>{let e=setTimeout(()=>a(0===r?1:0),3e3);return()=>clearTimeout(e)},[r]),(0,i.jsxs)(L,{children:[(0,i.jsx)(Z,{$isStuck:t,$hasTakeover:n,placeholder:["Search all the GIFs and Stickers","@username to search channels"][r],onEnter:u,autoFocus:o}),n&&(0,i.jsx)(k,{})]})},G=h.ZP.div.withConfig({componentId:"sc-fa2660a1-5"})(["",""],(0,x.gv)((0,h.iv)(["position:relative;width:","px;margin:0 auto;"],v.VC)));var B=e=>{let{apiKey:t,children:n,initialTerm:c,hsaTakeover:s}=e,u=(0,d.useRouter)(),{user:h}=(0,f.useContext)(m.Z),{favorites:v}=(0,f.useContext)(a.ZP),[x,w]=(0,f.useState)(""),b=(0,f.useRef)(null),[E,y]=(0,f.useState)(!1),{isAdUnitEnabled:C}=(0,f.useContext)(r.Z),k=C(o.UNIT_NAME);return(0,f.useEffect)(()=>{let e;return b.current&&(e=new IntersectionObserver(e=>{let[t]=e;y(t.intersectionRatio<1)},{threshold:[1],rootMargin:"".concat(k?-o.DESKTOP_CONTAINER_HEIGHT:0,"px 1000px 1000px 1000px")})).observe(b.current),()=>null==e?void 0:e.disconnect()},[k]),(0,i.jsxs)(G,{children:[(0,i.jsx)(R.Provider,{value:{setIgnoreTarget:w,ignoreTarget:x},children:(0,i.jsxs)(l.SearchContextManager,{initialTerm:c?decodeURIComponent(c):c,apiKey:t,shouldFetchChannels:!1,theme:{searchbarHeight:68,mobileSearchbarHeight:68},children:[(0,i.jsx)(S,{}),(0,i.jsx)(p.ZP,{user:h,onLogoClick:()=>{u.push("/")},hasFavorites:v.length>0}),(0,i.jsx)(_,{$hasTopLeaderboardAd:k,$isStuck:E,children:(0,i.jsx)(g.ZP,{})}),(0,i.jsx)(A,{$hasTopLeaderboardAd:k,ref:b,children:(0,i.jsxs)(O,{$isStuck:E,children:[(0,i.jsx)(D,{isStuck:E,hsaTakeover:s}),(0,i.jsx)(T,{isStuck:E})]})}),n]})}),(0,i.jsx)(j,{})]})}},14882:function(e,t,n){let i=(0,n(7653).createContext)({adsEnabled:!1,adUnits:[],isAdUnitEnabled:()=>!1,pageName:void 0});t.Z=i},72497:function(e,t,n){n.d(t,{c5:function(){return l},k1:function(){return f},xL:function(){return d}});var i=n(27573),o=n(49803),r=n(7653),a=n(15644);let c=(0,r.createContext)({favorites:[],setFavorites:()=>{},hasChecked:[],setHasChecked:()=>{}}),s=e=>{let{user:t}=(0,r.useContext)(a.Z),n=(0,r.useState)([]),[i,o]=(0,r.useState)(!1),c=(0,r.useRef)(!1),[s,l]=n;return(0,r.useEffect)(()=>{if(t){if(!c.current){c.current=!0;let n=window.localStorage.getItem(e);u(n?JSON.parse(n):[],t,e)}}else if(i)try{window.localStorage.setItem(e,JSON.stringify(Array.from(new Set(s))))}catch(t){console.error("failed to set ".concat(e," in local"))}else try{let t=window.localStorage.getItem(e);l(t?JSON.parse(t):[]),o(!0)}catch(e){}},[i,e,l,s,t]),n},l=e=>{let{children:t}=e,[n,o]=s("local-favorites"),[a,l]=(0,r.useState)([]);return(0,r.useEffect)(()=>{},[]),(0,i.jsx)(c.Provider,{value:{favorites:n,setFavorites:o,hasChecked:a,setHasChecked:l},children:t})};async function u(e,t,n){let i=e[0];if(i)try{setTimeout(async()=>{await (0,o.a3)(i,t.token,document.cookie),window.localStorage.setItem(n,JSON.stringify(e.filter(e=>e!==i))),u(e.slice(1),t,n)},100)}catch(e){console.error("failed to sync favorite ".concat(i),e)}else console.log("done syncing")}function d(e){let{user:t}=(0,r.useContext)(a.Z),{favorites:n,setFavorites:i,hasChecked:s,setHasChecked:l}=(0,r.useContext)(c),u=(0,r.useRef)(!1);if((0,r.useEffect)(()=>{async function n(e){if(t){let n=await (0,o.Gs)(e,t.token);i(t=>{let i=t.includes(e);return n&&!i?[...t,e]:!n&&i?t.filter(t=>t!==e):t}),l(t=>[...t,e])}else console.error("no user in useFavorites hook")}!e||u.current||s.includes(e)||(u.current=!0,n(e))},[s,e,i,l,t]),e)return t?s.includes(e)?n.includes(e):void 0:n.includes(e)}function f(){let{user:e}=(0,r.useContext)(a.Z),{favorites:t,setFavorites:n}=(0,r.useContext)(c);return async function(i){let r=t.includes(i);if(e)return r?r&&(await (0,o.Ni)(i,e.token,document.cookie),n(e=>e.filter(e=>e!==i))):(await (0,o.a3)(i,e.token,document.cookie),n(e=>[...e,i])),!r;r?n(e=>e.filter(e=>e!==i)):n(e=>[...e,i])}}t.ZP=c},59752:function(e,t,n){n.d(t,{z:function(){return a}});var i=n(27573),o=n(94657),r=n(7653);let a=(0,r.createContext)({autoFocus:!1});t.Z=e=>{let{children:t}=e,{deviceType:n}=(0,r.useContext)(o.Z),[c,s]=(0,r.useState)("desktop"===n);(0,r.useEffect)(()=>{s(!1)},[]);let l=(0,r.useMemo)(()=>({autoFocus:c}),[c]);return(0,i.jsx)(a.Provider,{value:l,children:t})}},94657:function(e,t,n){let i=(0,n(7653).createContext)({deviceType:void 0});t.Z=i},15644:function(e,t,n){let i=(0,n(7653).createContext)({user:{},hasFetchedUser:!1});t.Z=i},45151:function(e,t,n){n.d(t,{Z:function(){return l},t:function(){return u}});var i=n(90526),o=n(7653),r=n(52531),a=n(15644);let c=window||{},s={ENABLED:c.DEBUG||c.location&&(0===location.href.indexOf("http://local.giphy.com")||-1!==location.search.indexOf("debug=true")),LEVEL:0,debug:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.ENABLED&&s.LEVEL<=0&&console.debug(...t)},info:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.ENABLED&&s.LEVEL<=1&&console.info(...t)},warn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.ENABLED&&s.LEVEL<=2&&console.warn(...t)},error:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s.ENABLED&&s.LEVEL<=3&&console.error(...t)}},l=e=>{e&&(s.debug("trackPageView virtualPageURL: ".concat(e)),window.didomiOnReady.push(()=>{s.debug("SEND: trackPageView virtualPageURL: ".concat(e)),window.dataLayer.push({event:"VirtualPageview",virtualPageURL:e,virtualPageName:e,...(0,i.yU)()})}))},u=function(){let{channel:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.bM)(),[n,c]=(0,r.Z)("login_type",t.platform||"email"),{user:s,hasFetchedUser:l}=(0,o.useContext)(a.Z);(0,o.useEffect)(()=>{(0,i.wj)({creatorId:e?"".concat(e.id):void 0,creatorName:null==e?void 0:e.user.username})},[e]),(0,o.useEffect)(()=>{if(l){let e=(0,i.PR)();s&&(e={userID:"".concat(s.id),userType:s.is_staff?"staff":s.user_type,loginMethod:t.platform||n,dashboardAnalytics:s.permissions.dashboard_analytics,verifiedStatus:s.is_verified,loggedInStatus:!0}),(0,i.av)(e),t.action&&(c(t.platform),(0,i.u2)({event:"".concat(t.action,"_form_success"),options:{form:{formName:t.action}}})),window.dataLayer=window.dataLayer||[],window.dataLayer.push((0,i.rD)())}},[l])}},15890:function(e,t,n){n.d(t,{B5:function(){return a},Hn:function(){return i},W5:function(){return l},dr:function(){return o},ej:function(){return r},oH:function(){return c},xl:function(){return s}});let i=e=>"/".concat(e.replace(/^(?:\/\/|[^\/]+)*\//,"")),o=(e,t)=>{t.preventDefault(),t.stopPropagation(),location.href=i(e.url)};function r(e,t){let n=(t||document.cookie).split(";");for(let t=0;t<n.length;t++){let i=n[t].trim();if(i.startsWith(e+"="))return i.substring(e.length+1)}return""}let a=(e,t)=>(Object.entries(t).forEach(t=>{let[n,i]=t;e.searchParams.append(n,i)}),e),c=e=>e.replace(/ /g,"-");function s(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{method:"POST",headers:{Accept:"application/json","Content-Type":t?"multipart/form-data":"application/json","X-CSRFToken":e,"X-Requested-With":"XMLHttpRequest",credentials:"same-origin"}}}let l=(e,t)=>{let{results:n=[]}=e,i=n.length;return{data:n,pagination:{count:i,total_count:1/0,offset:t},meta:{msg:"",response_id:"",status:200}}}},6165:function(e,t,n){var i=n(7653);t.Z=function(){let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(!0)},[]),e}}}]);
//# sourceMappingURL=3142-fb66be4ea453e6cb.js.map